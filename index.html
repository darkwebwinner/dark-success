<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Dark Success</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Vazirmatn',sans-serif;
  background:linear-gradient(180deg,#020617,#0f172a);
  color:#fff;
}
header{
  padding:16px;
  text-align:center;
  font-size:22px;
  font-weight:700;
  border-bottom:1px solid #312e81;
}
.container{max-width:1100px;margin:auto;padding:20px}
.glass{
  background:rgba(255,255,255,.06);
  border:1px solid #312e81;
  border-radius:16px;
  padding:18px;
  margin-bottom:18px;
}
.hidden{display:none}
button{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  font-family:inherit;
  font-weight:700;
  cursor:pointer;
  background:linear-gradient(135deg,#7c3aed,#2563eb);
  color:#fff;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:14px;
}
.card{
  background:#020617;
  border:1px solid #312e81;
  border-radius:14px;
  padding:18px;
  text-align:center;
  cursor:pointer;
}

/* ===== WHEEL ===== */
#wheelWrap{text-align:center}
#wheelBox{
  position:relative;
  width:340px;
  height:340px;
  margin:20px auto;
}
canvas{
  border-radius:50%;
  box-shadow:
    inset 0 0 40px rgba(255,255,255,.15),
    0 0 40px rgba(0,0,0,.8);
}
#pointer{
  position:absolute;
  top:-6px;
  left:50%;
  transform:translateX(-50%);
  font-size:34px;
}
#winner{
  margin-top:15px;
  font-size:18px;
  font-weight:700;
  color:#facc15;
}
</style>
</head>

<body>

<header>ğŸŒ‘ Dark Success</header>

<div class="container">

<div class="grid">
  <div class="card">ğŸ“Š ÙØ±ØµØªâ€ŒÙ‡Ø§ÛŒ Ø®Ø±ÛŒØ¯</div>
  <div class="card">ğŸ“ˆ ØªØ­Ù„ÛŒÙ„ Ø¨Ø§Ø²Ø§Ø±</div>
  <div class="card">ğŸ’° Ø·Ù„Ø§ ÛŒØ§ Ø±Ù…Ø² Ø§Ø±Ø²ØŸ</div>
  <div class="card">â“ Ù‡ÙˆÙ„Ø¯ ÛŒØ§ ØªØ±ÛŒØ¯ØŸ</div>
  <div class="card" onclick="wheelSection.classList.toggle('hidden')">ğŸ¯ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³</div>
</div>

<div id="wheelSection" class="glass hidden">
  <h3>ğŸ¯ Ú¯Ø±Ø¯ÙˆÙ†Ù‡ Ø´Ø§Ù†Ø³</h3>
  <div id="wheelWrap">
    <div id="wheelBox">
      <div id="pointer">â¬‡ï¸</div>
      <canvas id="wheel" width="340" height="340"></canvas>
    </div>
    <button id="spinBtn">Ú†Ø±Ø®Ø´ ğŸ¡</button>
    <div id="winner"></div>
  </div>
</div>

</div>

<audio id="spinSound" src="https://assets.mixkit.co/sfx/preview/mixkit-fast-small-sweep-transition-166.mp3"></audio>
<audio id="winSound" src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3"></audio>

<script>
const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");
const spinBtn = document.getElementById("spinBtn");
const winner = document.getElementById("winner");
const spinSound = document.getElementById("spinSound");
const winSound = document.getElementById("winSound");

const prizes = [
 "ğŸ’µ 1 Ø¯Ù„Ø§Ø±",
 "â­ 10 Ø±ÙˆØ² VIP",
 "âŒ Ù¾ÙˆÚ†",
 "â­ 5 Ø±ÙˆØ² VIP",
 "âŒ Ù¾ÙˆÚ†",
 "ğŸ’ 20 Ø±ÙˆØ² VIP",
 "ğŸª™ 5 Ø¯Ù„Ø§Ø±"
];

const colors = ["#7c3aed","#2563eb","#facc15","#f43f5e","#22d3ee","#10b981","#f97316"];
const count = prizes.length;
const arc = Math.PI * 2 / count;
let angle = 0;

/* DRAW */
function draw(){
  ctx.clearRect(0,0,340,340);
  for(let i=0;i<count;i++){
    ctx.beginPath();
    ctx.moveTo(170,170);
    ctx.arc(170,170,170,arc*i,arc*(i+1));
    ctx.fillStyle=colors[i];
    ctx.fill();

    ctx.save();
    ctx.translate(170,170);
    ctx.rotate(arc*i+arc/2);
    ctx.fillStyle="#fff";
    ctx.font="13px Vazirmatn";
    ctx.textAlign="center";
    ctx.fillText(prizes[i],115,5);
    ctx.restore();
  }
}
draw();

/* SPIN â€“ Ø¨Ø¯ÙˆÙ† Ø®Ø·Ø§ */
spinBtn.onclick=()=>{
  spinBtn.disabled=true;
  winner.innerText="";

  const index = Math.floor(Math.random()*count); // ğŸ¯ Ø¬Ø§ÛŒØ²Ù‡ Ù‚Ø·Ø¹ÛŒ
  const spins = 6;
  const target =
    spins*Math.PI*2 +
    (count-index)*arc -
    arc/2;

  const start = angle;
  const diff = target-start;
  const duration = 4500;
  const startTime = performance.now();

  spinSound.play();

  function animate(t){
    const p=Math.min((t-startTime)/duration,1);
    angle = start + diff*(1-Math.pow(2,-10*p));
    ctx.save();
    ctx.translate(170,170);
    ctx.rotate(angle);
    ctx.translate(-170,-170);
    draw();
    ctx.restore();

    if(p<1) requestAnimationFrame(animate);
    else{
      spinSound.pause();
      const prize=prizes[index];
      if(prize.includes("Ù¾ÙˆÚ†")){
        winner.innerText="Ù¾ÙˆÚ†! Ø¯ÙØ¹Ù‡ Ø¨Ø¹Ø¯ Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒØ¯";
      }else{
        winSound.play();
        winner.innerText="ğŸ‰ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯: "+prize;
      }
      spinBtn.disabled=false;
    }
  }
  requestAnimationFrame(animate);
};
</script>

</body>
</html>
